= Plugin: ACL
Martin Langlotz <martin.langlotz@evilbrain.de>
:source-highlighter: highlightjs
:toc:
:icons: font

This plugin

- provide acl for users

== Watch for file changes

Change to the config-file are detected during runtime.

You can change the acl's. The plugin reread the config-file and activate the rules immediately.

== How rules will be evaluated

- The plugin iterate rule by rule for an user.
- The first rule that matched the topic get active.
- THe mqtt-schema for wildcards ( # and + ) are supported



=== Example

```yaml
# This is an example for an acl
rules:

# The username
  admin:

# here we define an route, according to the mqtt-schema with # and + can be used
	- route: "#"
	
# w means the publisher write to the broker
# r means the broker send the message to the receiver
	  direction: w

# and here we decide what to do if the route matches
	  allow: true

# for example, this rule allow that every topic will be sended to 
# an subscriber logged in as admin
    - route: "#"
      direction: r
      allow: true

# This is an example for an external sensor
# the sensor can only publish and not receive any message
  sensor:

# we allow write to all sub-topics /sensor
    - route: /sensor/#
      direction: w
      allow: true

# if the sensor try something else, we block it
    - route: "#"
      direction: w
      allow: false

# The sensor don't get any data from somebody else
    - route: "#"
      direction: r
      allow: false



```

